<!DOCTYPE html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Liunx编译OpenJdk 8U | Juzzia's Blog</title><meta name=author content=Juzzia><meta name=copyright content=Juzzia><meta name=format-detection content="telephone=no"><meta name=theme-color content=ffffff><meta name=description content="古人学问无遗力，少壮工夫老始成。 纸上得来终觉浅，绝知此事要躬行。   背景 在学习openjdk 8u源码时，对于CppInterpreter栈帧中局部变量表的分配始终疑惑不解，只能来调试源码来获得答案，因此有了这篇博客 本机环境 lsb_release -a 	No LSB modules are available. 	Distributor ID: Ubuntu 	Description"><meta property=og:type content=article><meta property=og:title content="Liunx编译OpenJdk 8U"><meta property=og:url content=https://juzzia.github.io/posts/09618d5b.html><meta property=og:site_name content="Juzzia&#39;s Blog"><meta property=og:description content="古人学问无遗力，少壮工夫老始成。 纸上得来终觉浅，绝知此事要躬行。   背景 在学习openjdk 8u源码时，对于CppInterpreter栈帧中局部变量表的分配始终疑惑不解，只能来调试源码来获得答案，因此有了这篇博客 本机环境 lsb_release -a 	No LSB modules are available. 	Distributor ID: Ubuntu 	Description"><meta property=og:locale content=zh_CN><meta property=og:image content=https://juzzia.github.io/img/avatar.jpg><meta property=article:published_time content=2024-07-20T05:32:00.000Z><meta property=article:modified_time content=2025-03-06T14:49:00.000Z><meta property=article:author content=Juzzia><meta name=twitter:card content=summary><meta name=twitter:image content=https://juzzia.github.io/img/avatar.jpg><link rel="shortcut icon" href=/img/log.svg><link rel=canonical href=https://juzzia.github.io/posts/09618d5b.html><link rel=preconnect href=//cdn.jsdelivr.net><link rel=preconnect href=//hm.baidu.com><link rel=preconnect href=//busuanzi.ibruce.info><meta name=msvalidate.01 content=606EBFCBDED9F21417F108AFF320F465><link rel=stylesheet href="/css/index.css?v=4.13.0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?344a26e9d7e5894ce499ae53b475d975",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script><script>let GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:5,unescape:!1,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"prismjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:300},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!0,islazyload:!1,isAnchor:!0,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id=config-diff>var GLOBAL_CONFIG_SITE={title:"Liunx编译OpenJdk 8U",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-03-06 22:49:00"}</script><script>(e=>{e.saveToLocal={set:(e,t,a)=>{var o;0!==a&&(o=Date.now(),localStorage.setItem(e,JSON.stringify({value:t,expiry:o+864e5*a})))},get:e=>{var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!(Date.now()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=(o,n={})=>new Promise((t,e)=>{let a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},Object.keys(n).forEach(e=>{a.setAttribute(e,n[e])}),document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{let a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel=stylesheet href=/css/callout/callout_blocks.css><link rel=stylesheet href=/css/mermaid.css><link rel=stylesheet href=/css/custom.css><meta name=generator content="Hexo 7.3.0"></head><body><div id=web_bg></div><div id=sidebar><div id=menu-mask></div><div id=sidebar-menus><div class="avatar-img is-center"><img src=/img/avatar.jpg onerror='onerror=null,src="/img/friend_404.gif"' alt=avatar></div><div class="sidebar-site-data site-data is-center"><a href=/archives/ ><div class=headline>文章</div><div class=length-num>10</div></a><a href=/tags/ ><div class=headline>标签</div><div class=length-num>4</div></a><a href=/categories/ ><div class=headline>分类</div><div class=length-num>5</div></a></div><hr class=custom-hr><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class=menus_item><a class=site-page href=/archives/ ><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class=menus_item><a class=site-page href=/tags/ ><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class=menus_item><a class=site-page href=/categories/ ><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class=menus_item><a class=site-page href=/about/ ><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class=post id=body-wrap><header class=not-top-img id=page-header><nav id=nav><span id=blog-info><a href=/ title="Juzzia's Blog"><span class=site-name>Juzzia's Blog</span></a></span><div id=menus><div id=search-button><a class="site-page social-icon search" href=javascript:void(0);><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class=menus_item><a class=site-page href=/archives/ ><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class=menus_item><a class=site-page href=/tags/ ><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class=menus_item><a class=site-page href=/categories/ ><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class=menus_item><a class=site-page href=/about/ ><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id=toggle-menu><a class=site-page href=javascript:void(0);><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class=layout id=content-inner><div id=post><div id=post-info><h1 class=post-title>Liunx编译OpenJdk 8U</h1><div id=post-meta><div class=meta-firstline><span class=post-meta-date><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class=post-meta-label>发表于</span><time datetime=2024-07-20T05:32:00.000Z title="发表于 2024-07-20 13:32:00">2024-07-20</time></span><span class=post-meta-categories><span class=post-meta-separator>|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class=post-meta-categories href=/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/ >源码分析</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class=post-meta-categories href=/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/hotspot/ >hotspot</a></span></div><div class=meta-secondline><span class=post-meta-separator>|</span><span class=post-meta-wordcount><i class="far fa-file-word fa-fw post-meta-icon"></i><span class=post-meta-label>字数总计:</span><span class=word-count>950</span><span class=post-meta-separator>|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class=post-meta-label>阅读时长:</span><span>3分钟</span></span><span class=post-meta-separator>|</span><span class=post-meta-pv-cv id="" data-flag-title="Liunx编译OpenJdk 8U"><i class="far fa-eye fa-fw post-meta-icon"></i><span class=post-meta-label>阅读量:</span><span id=busuanzi_value_page_pv><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class=post-meta-separator>|</span><span class=post-meta-commentcount><i class="far fa-comments fa-fw post-meta-icon"></i><span class=post-meta-label>评论数:</span><a href=/posts/09618d5b.html#post-comment><span class=gsc-comments-count><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div><article class=post-content id=article-container><blockquote><p>古人学问无遗力，少壮工夫老始成。 纸上得来终觉浅，绝知此事要躬行。</p></blockquote><h2 id=背景><a class=markdownIt-Anchor href=#背景></a> 背景</h2><p>在学习<code>openjdk 8u</code>源码时，对于<code>CppInterpreter</code>栈帧中局部变量表的分配始终疑惑不解，只能来调试源码来获得答案，因此有了这篇博客</p><p><strong>本机环境</strong></p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash>lsb_release <span class="token parameter variable">-a</span>
	No LSB modules are available.
	Distributor ID: Ubuntu
	Description:    Ubuntu <span class="token number">22.04</span>.5 LTS
	Release:        <span class="token number">22.04</span>
	Codename:       jammy
架构：                    x86_64
  CPU 运行模式：          <span class="token number">32</span>-bit, <span class="token number">64</span>-bit<span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id=流程><a class=markdownIt-Anchor href=#流程></a> 流程</h2><h3 id=下载-open-jdk-7u><a class=markdownIt-Anchor href=#下载-open-jdk-7u></a> 下载 open jdk 7u</h3><p>编译某个版本的jdk需要用前一个版本来指定为为<code>bootjdk</code>，所以编译<code>jdk8u</code>需要使用<code>jdk7u</code>作为<code>bootjdk</code>来编译</p><ul><li>通过<a target=_blank rel=noopener href=https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html>Java Archive Downloads - Java SE 7</a>链接可以下载jdk7</li></ul><p>配置环境变量 修改 <code>sudo vim /etc/profile</code></p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token comment"># 配置成你自己的目录</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/code/tmp/jdk1.7.0_80 
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin<span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span></span></code></pre><ul><li>一定要配置，否则编译时会找不到Java内部的相关类</li></ul><h3 id=下载源码><a class=markdownIt-Anchor href=#下载源码></a> 下载源码</h3><p>我采用的是<code>jdk8u</code>版本的源码，也可以换成自己的版本</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token function">git</span> clone https://github.com/openjdk/jdk8u.git<span aria-hidden=true class=line-numbers-rows><span></span></span></code></pre><p>不过由于github时不时无法访问，可以使用镜像站来克隆，如果无法使用，尝试搜索其他镜像站</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token function">git</span> clone https://kkgithub.com/openjdk/jdk8u.git<span aria-hidden=true class=line-numbers-rows><span></span></span></code></pre><h4 id=下载构建工具><a class=markdownIt-Anchor href=#下载构建工具></a> 下载构建工具</h4><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token comment"># 安装编译器及构建工具</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> gcc g++ gdb <span class="token function">make</span>
<span class="token comment"># 下载安装依赖包</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libasound2-dev libfreetype6-dev libcups2-dev libfontconfig1-dev libxext-dev libxrender-dev libxtst-dev libxt-dev<span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span></span></code></pre><h3 id=编译><a class=markdownIt-Anchor href=#编译></a> 编译</h3><p><strong>配置阶段</strong></p><p>进入 <code>jdk8u</code>目录，执行</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token function">sh</span> ./configure <span class="token punctuation">\</span>
--with-debug-level<span class="token operator">=</span>slowdebug <span class="token punctuation">\</span>
--with-jvm-interpreter<span class="token operator">=</span>cpp <span class="token punctuation">\</span>
--with-jvm-variants<span class="token operator">=</span>zero <span class="token punctuation">\</span>
--disable-zip-debug-info <span class="token punctuation">\</span>
--with-target-bits<span class="token operator">=</span><span class="token number">64</span> <span class="token punctuation">\</span>
--with-boot-jdk<span class="token operator">=</span>/code/tmp/jdk1.7.0_80 <span class="token punctuation">\</span>
--with-freetype-include<span class="token operator">=</span>/usr/include/freetype2 <span class="token punctuation">\</span>
--with-freetype-lib<span class="token operator">=</span>/usr/lib/x86_64-linux-gnu/<span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参数含义</p><ul><li><code>with-debug-level</code>：调试信息级别</li><li><code>with-jvm-interpreter</code>：使用的解释器类型，这里使用cpp解释器</li><li><code>with-jvm-variants</code>：构建的jvm种类 <code>zero</code>不使用任何即时编译器，只解释执行不编译</li><li><code>with-target-bits</code>：64位</li><li><strong><code>with-boot-jdk</code></strong>: <strong>重点</strong>，设置成你自己jdk7的目录</li><li>另外两个参数固定配置，和字体有关，无需在意</li></ul><blockquote><p>想对参数进行调整以编译其他版本的jdk请看官方文档<a target=_blank rel=noopener href=https://hg.openjdk.org/jdk8u/jdk8u/raw-file/tip/README-builds.html#make>OpenJDK Build README</a> 或者查看<code>jdk8u\common\autoconf\jdk-options.m4</code>文件，都对参数作用以及可取值做了详细介绍</p></blockquote><p><strong>编译阶段</strong></p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token comment"># 需要保证有python环境</span>
<span class="token comment"># 安装pip</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> python-pip
<span class="token comment"># pip安装 compiledb</span>
<span class="token function">sudo</span> pip <span class="token function">install</span> compiledb
<span class="token comment"># 构建，并使用compiledb工具生成Compilation Database</span>
compiledb <span class="token function">make</span> all<span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>编译完成可以进入目录执行<code>java -version</code></p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token builtin class-name">cd</span> ./build/linux-x86_64-normal-zero-slowdebug/jdk/bin/

./java <span class="token parameter variable">-version</span>
<span class="token comment"># 执行下面的输出说明编译成功了</span>
openjdk version <span class="token string">"1.8.0_452-internal-debug"</span> OpenJDK Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_452-internal-debug-root_2025_02_20_13_27-b00<span class="token punctuation">)</span> OpenJDK <span class="token number">64</span>-Bit Zero VM <span class="token punctuation">(</span>build <span class="token number">25.452</span>-b00-debug, interpreted mode<span class="token punctuation">)</span><span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id=调试><a class=markdownIt-Anchor href=#调试></a> 调试</h3><p>下面是 windows clion 远程调试 liunx 上的 jdk</p><ol><li>在liunx上安装 <code>gdbserver</code></li></ol><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> gdbserver<span aria-hidden=true class=line-numbers-rows><span></span></span></code></pre><ol start=2><li>windows上安装 <code>mingw</code></li></ol><ul><li>点击链接下载<a target=_blank rel=noopener href=https://github.com/niXman/mingw-builds-binaries/releases>Releases · niXman/mingw-builds-binaries</a>,解压配置bin目录的环境变量</li><li>cmd 输入 <code>g++ --version</code> 输出版本信息即成功</li></ul><img src=/posts/09618d5b/soft_version.png class="" title=soft_version><p>需要注意要下载和liunx上安装的<code>gdbserver</code>相同的大版本，否则会出现问题，可通过<code>gdbserver --version</code>查看版本信息</p><ol><li>开启远程调试</li></ol><pre class="line-numbers language-bash" data-language=bash><code class=language-bash>gdbserver :1234 ./build/linux-x86_64-normal-zero-slowdebug/jdk/bin//java xxx<span aria-hidden=true class=line-numbers-rows><span></span></span></code></pre><ol start=2><li>clion 打开jdk项目，在<code>edit configurations</code>中添加<code>remote debug</code>，<ol><li>输入 远程主机ip:port(gdbserver port)</li><li><strong>配置路径映射</strong>，这个地方踩坑了，必须配置，否则无法debug</li></ol></li></ol><img src=/posts/09618d5b/remote_debug.png class="" title=remote_debug|375><ol><li>在跟踪调试之前，还需要设置 GDB 对 SIGSEGV 信号的处理方式，忽略调试时的 SIGSEGV 信号 ，在 ”GDB“ 标签页下的 “(gdb)” 命令行中输入</li></ol><pre class="line-numbers language-bash" data-language=bash><code class=language-bash>handle SIGSEGV nostop noprint pass<span aria-hidden=true class=line-numbers-rows><span></span></span></code></pre><blockquote><p>本文参考链接<br><a target=_blank rel=noopener href=https://www.jianshu.com/p/feaed5853a02>OpenJDK 编译调试指南(Ubuntu 16.04 + MacOS 10.15) - 简书</a><br><a target=_blank rel=noopener href=https://blog.csdn.net/szm1160809039/article/details/131592828>Clion远程调试JDK_clion远程调试linux-CSDN博客</a><br><a target=_blank rel=noopener href=https://blog.csdn.net/weixin_46416035/article/details/127387170>在windows11上安装最新版的gcc/g++（MinGW）–gcc version 12.2.0_最新版g+±CSDN博客</a></p></blockquote></article><div class=post-copyright><div class=post-copyright__author><span class=post-copyright-meta><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class=post-copyright-info><a href=https://juzzia.github.io>Juzzia</a></span></div><div class=post-copyright__type><span class=post-copyright-meta><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class=post-copyright-info><a href=https://juzzia.github.io/posts/09618d5b.html>https://juzzia.github.io/posts/09618d5b.html</a></span></div><div class=post-copyright__notice><span class=post-copyright-meta><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class=post-copyright-info>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href=https://juzzia.github.io target=_blank>Juzzia's Blog</a>！</span></div></div><div class=tag_share><div class=post-meta__tag-list></div><div class=post_share><div class=social-share data-image=/img/avatar.jpg data-sites=wechat,weibo,qq></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css media=print onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js defer=defer></script></div></div><div class=post-reward><div class=reward-button><i class="fas fa-qrcode"></i>赞助</div><div class=reward-main><ul class=reward-all><li class=reward-item><a href=https://s2.loli.net/2024/08/01/jL2klE39vx5Ft4r.jpg target=_blank><img class=post-qr-code-img src=https://s2.loli.net/2024/08/01/jL2klE39vx5Ft4r.jpg alt=wechat></a><div class=post-qr-code-desc>wechat</div></li><li class=reward-item><a href=https://s2.loli.net/2024/08/01/2s3UCWdlneAiYRa.jpg target=_blank><img class=post-qr-code-img src=https://s2.loli.net/2024/08/01/2s3UCWdlneAiYRa.jpg alt=alipay></a><div class=post-qr-code-desc>alipay</div></li></ul></div></div><nav class=pagination-post id=pagination><div class="prev-post pull-full"><a href=/posts/7e818be6.html title=记录一次排查因线程WAITING导致应用假死的经历><div class=cover style=background:var(--default-bg-color)></div><div class=pagination-info><div class=label>上一篇</div><div class=prev_info>记录一次排查因线程WAITING导致应用假死的经历</div></div></a></div></nav><hr class=custom-hr><div id=post-comment><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class=comment-wrap><div><div id=giscus-wrap></div></div></div></div></div><div class=aside-content id=aside-content><div class="card-widget card-info"><div class=is-center><div class=avatar-img><img src=/img/avatar.jpg onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt=avatar></div><div class=author-info__name>Juzzia</div><div class=author-info__description>分享技术，开发经验，学习总结</div></div><div class="card-info-data site-data is-center"><a href=/archives/ ><div class=headline>文章</div><div class=length-num>10</div></a><a href=/tags/ ><div class=headline>标签</div><div class=length-num>4</div></a><a href=/categories/ ><div class=headline>分类</div><div class=length-num>5</div></a></div><a id=card-info-btn target=_blank rel=noopener href=https://github.com/juzzia><i class="fab fa-github"></i><span>github</span></a><div class="card-info-social-icons is-center"><a class=social-icon href=https://github.com/juzzia target=_blank title=Github><i class="fab fa-github" style=color:#24292e></i></a><a class=social-icon href=mailto:juzzia@github.com target=_blank title=Email><i class="fas fa-envelope" style=color:#4a7dbe></i></a></div></div><div class=sticky_layout><div class=card-widget id=card-toc><div class=item-headline><i class="fas fa-stream"></i><span>目录</span><span class=toc-percentage></span></div><div class="toc-content is-expand"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E8%83%8C%E6%99%AF><span class=toc-number>1.</span> <span class=toc-text>背景</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%B5%81%E7%A8%8B><span class=toc-number>2.</span> <span class=toc-text>流程</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%B8%8B%E8%BD%BD-open-jdk-7u><span class=toc-number>2.1.</span> <span class=toc-text>下载 open jdk 7u</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%B8%8B%E8%BD%BD%E6%BA%90%E7%A0%81><span class=toc-number>2.2.</span> <span class=toc-text>下载源码</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E4%B8%8B%E8%BD%BD%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7><span class=toc-number>2.2.1.</span> <span class=toc-text>下载构建工具</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%BC%96%E8%AF%91><span class=toc-number>2.3.</span> <span class=toc-text>编译</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%B0%83%E8%AF%95><span class=toc-number>2.4.</span> <span class=toc-text>调试</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class=item-headline><i class="fas fa-history"></i><span>最新文章</span></div><div class=aside-list><div class="aside-list-item no-cover"><div class=content><a class=title href=/posts/1fe4afce.html title="字节码指令执行过程 BytecodeInterpreter">字节码指令执行过程 BytecodeInterpreter</a><time datetime=2025-03-07T13:34:00.000Z title="发表于 2025-03-07 21:34:00">2025-03-07</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/posts/1a5fbe08.html title=CPU缓存与MESI协议>CPU缓存与MESI协议</a><time datetime=2025-03-04T12:42:00.000Z title="发表于 2025-03-04 20:42:00">2025-03-04</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/posts/bcc098b4.html title="Liunx 任务调度">Liunx 任务调度</a><time datetime=2025-02-24T13:52:00.000Z title="发表于 2025-02-24 21:52:00">2025-02-24</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/posts/991d833e.html title="Liunx Futex">Liunx Futex</a><time datetime=2025-02-22T15:33:00.000Z title="发表于 2025-02-22 23:33:00">2025-02-22</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/posts/f95e72b6.html title="字节码解释器 Interpreter">字节码解释器 Interpreter</a><time datetime=2025-02-18T14:45:00.000Z title="发表于 2025-02-18 22:45:00">2025-02-18</time></div></div></div></div></div></div></main></div><div id=rightside><div id=rightside-config-hide><button id=readmode type=button title=阅读模式><i class="fas fa-book-open"></i></button><button id=darkmode type=button title=浅色和深色模式转换><i class="fas fa-adjust"></i></button><button id=hide-aside-btn type=button title=单栏和双栏切换><i class="fas fa-arrows-alt-h"></i></button></div><div id=rightside-config-show><button id=rightside-config type=button title=设置><i class="fas fa-cog fa-spin"></i></button><button class=close id=mobile-toc-button type=button title=目录><i class="fas fa-list-ul"></i></button><a id=to_comment href=#post-comment title=直达评论><i class="fas fa-comments"></i></a><button id=go-up type=button title=回到顶部><span class=scroll-percent></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class=js-pjax><script>(()=>{var e=()=>{var e;0!==(e=document.querySelectorAll("pre > code.mermaid")).length&&e.forEach(e=>{var t=document.createElement("div");t.className="mermaid-wrap",t.innerHTML=`<pre class="mermaid-src" hidden>${e.textContent}</pre>`,e.parentNode.replaceWith(t)});let t=document.querySelectorAll("#article-container .mermaid");0!==t.length&&(e=()=>(e=>{window.loadMermaid=!0;let c="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(e).forEach((e,t)=>{let n=e.firstElementChild;e="%%{init:{ 'theme':'"+c+"'}}%%\n"+n.textContent;let i=mermaid.render("mermaid-"+t,e);"string"==typeof i?(t=i,n.insertAdjacentHTML("afterend",t)):(i.then(({svg:e})=>{n.insertAdjacentHTML("afterend",e)}),setTimeout(()=>{var e=document.getElementsByTagName("svg");Array.from(e).forEach((e,t)=>{o(e)})},3e3))})})(t),btf.addGlobalFn("themeChange",e,"mermaid"),window.loadMermaid?e():btf.getScript("https://cdn.jsdelivr.net/npm/mermaid@11.0.0/dist/mermaid.min.js").then(e))};let o=l=>{let u=1,m=0,h=0,c=!1,o,d,r=0,e=!1,t=1,n=0,i=0;function a(){u=t,m=n,h=i,e=!1,s()}function s(){l.style.transform=`translate(${m}px, ${h}px) scale(${u})`}l.addEventListener("wheel",function(e){e.preventDefault();var t=0<e.deltaY?-.04:.04,n=(t=Math.min(Math.max(u+t,1),2.3))/u,i=l.getBoundingClientRect(),c=(e.clientX-i.left)/i.width,e=(e.clientY-i.top)/i.height,i=l.getBBox(),c=c*i.width,e=e*i.height;m=m*n-c*(n-1),h=h*n-e*(n-1),u=t,s()}),l.addEventListener("mousedown",function(e){c=!0,o=e.clientX,d=e.clientY,l.style.cursor="grabbing"}),document.addEventListener("mousemove",function(e){c&&(m+=e.clientX-o,h+=e.clientY-d,o=e.clientX,d=e.clientY,s())}),document.addEventListener("mouseup",function(){c=!1,l.style.cursor="grab"}),l.parentElement.addEventListener("dblclick",function(e){var t=Date.now();a(),r=t}),l.addEventListener("touchstart",function(e){if(1===e.touches.length&&((t=Date.now())-r<300&&(n=Date.now(),a(),r=n),r=t),1===(n=e).touches.length)c=!0,o=n.touches[0].clientX,d=n.touches[0].clientY;else if(2===n.touches.length){var t=n.touches[0].clientX-n.touches[1].clientX,n=n.touches[0].clientY-n.touches[1].clientY;let o=Math.sqrt(t*t+n*n),d=m,r=h,a=u;function i(e){var t,n,i,c;2===e.touches.length&&(t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,t=Math.sqrt(t*t+n*n)/o,n=Math.min(Math.max(a*t,.5),1.15),c=(e.touches[0].clientX+e.touches[1].clientX)/2-l.getBoundingClientRect().left,e=(e.touches[0].clientY+e.touches[1].clientY)/2-l.getBoundingClientRect().top,i=l.getBBox(),c=c/l.getBoundingClientRect().width*i.width,e=e/l.getBoundingClientRect().height*i.height,m=d*t-c*(t-1),h=r*t-e*(t-1),u=n,s())}document.addEventListener("touchmove",i),document.addEventListener("touchend",function e(){document.removeEventListener("touchmove",i),document.removeEventListener("touchend",e)})}}),document.addEventListener("touchend",function(){c=!1})};btf.addGlobalFn("encrypt",e,"mermaid"),window.pjax?e():document.addEventListener("DOMContentLoaded",e)})()</script><script>(()=>{let s=t=>"dark"===t?"dark":"light";var t=()=>{var t,e=Object.assign({src:"https://giscus.app/client.js","data-repo":"juzzia/blog-comment","data-repo-id":"R_kgDOMc3hsw","data-category-id":"DIC_kwDOMc3hs84ChTYG","data-mapping":"pathname","data-theme":s(document.documentElement.getAttribute("data-theme")),"data-reactions-enabled":"1",crossorigin:"anonymous",async:!0},{"data-input-position":"top","data-emit-metadata":1,"data-lang":"zh-CN"}),a=document.createElement("script");for(t in e)a.setAttribute(t,e[t]);document.getElementById("giscus-wrap").appendChild(a)};function e(t){var e=document.querySelector("#post-meta .gsc-comments-count");e&&(e.textContent=t)}window.addEventListener("message",function(t){"https://giscus.app"===t.origin&&"object"==typeof t.data&&t.data.giscus&&((t=t.data.giscus).error?e(0):t.discussion&&e(t.discussion.totalCommentCount+t.discussion.totalReplyCount))}),btf.addGlobalFn("themeChange",t=>{var e;t={setConfig:{theme:s(t)}},(e=document.querySelector("iframe.giscus-frame"))&&e.contentWindow.postMessage({giscus:t},"https://giscus.app")},"giscus"),t()})()</script></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css media=print onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js></script><script src=https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js></script><script async data-pjax src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div id=local-search><div class=search-dialog><nav class=search-nav><span class=search-dialog-title>搜索</span><span id=loading-status></span><button class=search-close-button><i class="fas fa-times"></i></button></nav><div class=is-center id=loading-database><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class=search-wrap><div id=local-search-input><div class=local-search-box><input class=local-search-box--input placeholder=搜索文章 type=text></div></div><hr><div id=local-search-results></div><div id=local-search-stats-wrap></div></div></div><div id=search-mask></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>